<div class="container">
  <!--orders-mob start-->
  <div class="orders orders--mob">
    <div class="orders__header-mob">
      <div class=" orders__page-title">
        Open orders
      </div>
      <div class="orders__amount">15</div>
      <div class="orders__filter-btn">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.9317 0.44323C15.8028 0.147863 15.5799 0.000159206 15.2618 0H0.737807C0.420134 0 0.196893 0.147863 0.0682816 0.44323C-0.0602502 0.753723 -0.00735105 1.01904 0.227217 1.23867L5.82145 6.84086V12.3635C5.82145 12.5607 5.89335 12.731 6.03702 12.8751L8.9417 15.784C9.07798 15.9278 9.24813 16 9.45245 16C9.54315 16 9.63766 15.9809 9.73602 15.9431C10.0312 15.8142 10.1788 15.5908 10.1788 15.2726V6.8409L15.7728 1.2387C16.0075 1.01908 16.0602 0.753842 15.9317 0.44323Z" />
        </svg>
        Filters
      </div>
    </div>
    <table class="table table--mob">
      <thead class="table__head">
        <tr class="table__head-row">
          <th class="table__cell-head table__cell-head--tal">Market/Date
            <svg class="table__cell-head-arr" style="margin: 0 0 0 4px;" width="6" height="8" viewBox="0 0 6 8" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M5.86338 3.74894C6.06488 3.99981 6.04068 4.38035 5.80935 4.59887L3.37001 7.84701L3.36491 7.85187C3.16243 8.04303 2.86838 8.04686 2.66309 7.87675C2.6518 7.86737 2.64073 7.85746 2.62999 7.84701L0.190654 4.59887C-0.0406818 4.38035 -0.0648789 3.99981 0.136618 3.74894C0.338115 3.49806 0.689025 3.47182 0.92047 3.69031L2.44455 6.07412L2.44455 0.602408C2.44455 0.269701 2.69325 0 3.00011 0C3.30697 0 3.55566 0.269701 3.55566 0.602408L3.55566 6.07391L5.07953 3.69031C5.31097 3.47182 5.66188 3.49806 5.86338 3.74894Z" />
            </svg>
          </th>
          <th class="table__cell-head table__cell-head--tal">Â Amount</th>
          <th class="table__cell-head table__cell-head--tar">Price</th>
        </tr>
      </thead>
      <tbody class="table__body table__body--none-shadow">
        <!-- t-row start-->
        <ng-container *ngFor="let item of openOrders">
          <tr class="table__row--mob" [attr.data-id]="item.id" (click)="toggleDetails($event)">
            <td class="table__cell table__cell--tal">
              <div>{{item.currencyPairName}}</div>
              <div class="table__date-time">
                <div>{{item.dateCreation | date:"EEEEEE"}} {{item.dateCreation | date:"dd.MM.yyyy"}}</div>
                <div>{{item.dateCreation | date:"HH:mm:ss"}}</div>
              </div>
            </td>
            <td class="table__cell table__cell--tal">
              <span>0.506</span>
            </td>
            <td class="table__cell table__cell--tar">
              <div>1.1068069</div>
              <span class="txt-small txt-red">{{item.operationType}}</span>
            </td>
            <td class="table__cell table__cell--arr-mob">
              <img class="" src="../../assets/img/arr-toggler-down-blue.svg">
            </td>
          </tr>
          <tr [id]="item.id" class="table__details">
            <td class="table__details-cell" colspan="4">
      
              <div class="table__details-item">
                <div class="table__details-item-title">Order id</div>
                <div class="table__details-item-value">{{item.id}}</div>
              </div>
              <div class="table__details-item">
                <div class="table__details-item-title">Total Price</div>
                <div class="table__details-item-value">{{item.exExchangeRate}} USD</div>
              </div>
              <div class="table__details-item">
                <div class="table__details-item-title">Type</div>
                <div class="table__details-item-value"><span class="txt-green">{{item.operationType}}</span></div>
              </div>
              <div class="table__details-item">
                <div class="table__details-item-title">Fee</div>
                <div class="table__details-item-value">{{item.commissionValue}}% ~ 0.003423 BTC</div>
              </div>
              <div class="table__details-item">
                <div class="table__details-item-title"><button class="btn btn--small">Cancel</button></div>
              </div>
            </td>
          </tr>
        </ng-container>
        <!-- t-row end-->
      </tbody>
    </table>
  </div>
  <!--orders-mob end-->
  <!--orders-desktop start-->
  <div class="orders">
    <div class="page-title">
      <h1 class="page-title__text">
        Open orders
      </h1>
    </div>
    <form action="">
      <div class="row orders__filter">
        <div class="wrap-input wrap-input--with-icon orders__search">
          <input class="wrap-input__input" type="text" required>
          <label class="wrap-input__label" for="">Currency</label>
          <div class="wrap-input__icon">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M15 8C15 11.8662 11.8652 15 8 15C4.13477 15 1 11.8662 1 8C1 4.13379 4.13477 1 8 1C11.8652 1 15 4.13379 15 8ZM13.293 13.999C11.8828 15.2441 10.0293 16 8 16C3.58203 16 0 12.418 0 8C0 3.58203 3.58203 0 8 0C12.418 0 16 3.58203 16 8C16 10.0293 15.2461 11.8818 14 13.292L17.8535 17.1465C17.9141 17.207 17.957 17.2803 17.9805 17.3574C18.0293 17.5273 17.9883 17.7188 17.8535 17.8535C17.6582 18.0488 17.3418 18.0488 17.1465 17.8535L13.293 13.999Z" />
            </svg>
          </div>
          <div class="wrap-input__line"></div>
        </div>
        <div class="wrap-input orders__datepicker">
          <label class="wrap-input__label" [ngClass]="{'select-input_label': dateFrom}" for="">From</label>

          <my-date-picker name="from" [options]="myDatePickerOptions" [(ngModel)]="modelDateFrom" (inputFieldChanged)="onFromInputFieldChanged($event)">
            <!--&gt;-->
          </my-date-picker>
          <div class="wrap-input__line" style="position: absolute; bottom: 1px; width: 100%;"></div>
        </div>
        <div class="wrap-input orders__datepicker input-el">
          <label class="wrap-input__label" [ngClass]="{'select-input_label': dateTo}" for="">To</label>

          <my-date-picker class="input-el" name="to" [options]="myDatePickerOptions" [(ngModel)]="modelDateTo"
            (inputFieldChanged)="onToInputFieldChanged($event)">
            &gt;
          </my-date-picker>
          <div class="wrap-input__line" style="position: absolute; bottom: 1px; width: 100%;"></div>
        </div>
      </div>
    </form>
    <!--table start-->
    <table class="table">
      <thead>
        <tr>
          <th class="table__cell-head table__cell-head--tal">Order id</th>
          <th class="table__cell-head table__cell-head--tal">Created</th>
          <th class="table__cell-head table__cell-head--tal">Market</th>
          <th class="table__cell-head table__cell-head--tal">Type</th>
          <th class="table__cell-head table__cell-head--tal">Amount</th>
          <th class="table__cell-head table__cell-head--tal" style="width: 60px;"></th>
          <th class="table__cell-head table__cell-head--tal">Price</th>
          <th class="table__cell-head table__cell-head--tal">Comission</th>
          <th class="table__cell-head table__cell-head--tal">Total</th>
          <th class="table__cell-head table__cell-head--tal" style="width: 80px;"></th>
        </tr>
      </thead>
      <tbody class="table__body" *ngIf="openOrders">
        <tr class="table__row" *ngFor="let item of openOrders | paginate: { itemsPerPage: countPerPage, currentPage: currentPage }">
          <td class="table__cell">
            <span>{{item.id}}</span>
          </td>
          <td class="table__cell">
            <div class="table__date-time">
              <div>{{item.dateCreation | date:"EEEEEE"}} {{item.dateCreation | date:"dd.MM.yyyy"}}</div>
              <div>{{item.dateCreation | date:"HH:mm:ss"}}</div>
            </div>
          </td>
          <td class="table__cell">
            <a class="orders__market">{{item.currencyPairName}}</a>
          </td>
          <td class="table__cell">
            <span class="orders__type-buy">{{item.operationType}}</span>
          </td>
          <td class="table__cell">
            <span>{{item.exExchangeRate}} BTC</span>
          </td>
          <td class="table__cell">
            <span class="orders__for">for</span>
          </td>
          <td class="table__cell">
            <span>{{item.amountConvert}} USD</span>
          </td>
          <td class="table__cell">
            <span class="orders__comission">{{item.commissionValue}}% </span><span class="orders__comission-usd">~<span>
                0.00015 USD</span></span>
          </td>
          <td class="table__cell">
            <span>{{item.amountWithCommission}} USD</span>
          </td>
          <td class="table__cell">
            <button class="btn btn--small btn--empty-red table__row-btn" style="width: 100%; max-width: 58px;" (click)="cancelOrder(item)">Cancel</button>
          </td>
        </tr>
      </tbody>
    </table>
    <!--table end-->
    <!--paginator start-->
    <div class="row row--aic" style="margin: 0 16px;">
      <div class="show-filter">
        Showing <span>1</span> to
        <div class="dropdown" #dropdown (click)="toggleDropdown($event)">
          <div class="dropdown__btn">14</div>
          <ul class="dropdown__list">
            <li class="dropdown__item" (click)="changeItemsPerPage($event)">24</li>
            <li class="dropdown__item" (click)="changeItemsPerPage($event)">34</li>
            <li class="dropdown__item" (click)="changeItemsPerPage($event)">44</li>
          </ul>
        </div>
        of <span>192</span> entries.
      </div>
      <ul class="paginator" style="margin-left: auto;">
        <pagination-controls (pageChange)="changePage($event)" [previousLabel]="''" [nextLabel]="''"></pagination-controls>
      </ul>
    </div>
    <!--paginator end-->
  </div>
  <!--orders-desktop end-->
</div>

<!--popup start-->
<div class="order-edit-popup" *ngIf="editOrderPopup">
  <div class="order-edit-popup__content order-edit-popup__content--mob"></div>
  <div class="order-edit-popup__content">
    <div class="order-edit-popup__title">Edit order <span>#{{order.orderId}}</span></div>
    <div class="order-edit-popup__close" (click)="closePopup()">
      <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7.35355 1.35355C7.54882 1.15829 7.54882 0.841709 7.35355 0.646447C7.15829 0.451184 6.84171 0.451184 6.64645 0.646447L7.35355 1.35355ZM0.646447 6.64645C0.451184 6.84171 0.451184 7.15829 0.646447 7.35355C0.841709 7.54882 1.15829 7.54882 1.35355 7.35355L0.646447 6.64645ZM1.35355 0.646447C1.15829 0.451184 0.841709 0.451184 0.646447 0.646447C0.451184 0.841709 0.451184 1.15829 0.646447 1.35355L1.35355 0.646447ZM6.64645 7.35355C6.84171 7.54882 7.15829 7.54882 7.35355 7.35355C7.54882 7.15829 7.54882 6.84171 7.35355 6.64645L6.64645 7.35355ZM6.64645 0.646447L0.646447 6.64645L1.35355 7.35355L7.35355 1.35355L6.64645 0.646447ZM0.646447 1.35355L6.64645 7.35355L7.35355 6.64645L1.35355 0.646447L0.646447 1.35355Z" />
      </svg>
    </div>


    <form [formGroup]="limitForm" *ngIf="dropdownLimitValue === 'LIMIT' || dropdownLimitValue === 'ICO' ">

      <div class="row row--jcsb widget__trading-row">

        <div class="wrap-input widget__input widget__input--mr32">
          <input class="wrap-input__input" type="text" [(ngModel)]="order.amount" formControlName="quantityOf" (input)="quantityInput($event)"
            name="quantityOf">
          <label class="wrap-input__label" for="">Quantity of {{arrPairName[0]}}</label>
          <div class="wrap-input__line"></div>
        </div>

        <div class="wrap-input widget__input">
          <input class="wrap-input__input" type="text" [(ngModel)]="order.rate" (input)="rateInput($event)"
            formControlName="priceIn" name="priceIn">
          <label class="wrap-input__label" for="">Price in {{arrPairName[1]}}</label>
          <div class="wrap-input__line"></div>
        </div>

      </div>

      <div class="row row--jcsb widget__trading-row">
        <div class="wrap-input widget__input">
          <input class="wrap-input__input" type="text" [(ngModel)]="order.total" formControlName="totalIn" name="totalIn">
          <label class="wrap-input__label" for="">Total in {{arrPairName[1]}}</label>
          <div class="wrap-input__line"></div>
        </div>
      </div>

    </form>
    <form [formGroup]="stopForm" *ngIf="dropdownLimitValue === 'STOP_LIMIT'">
      <div class="row row--jcsb widget__trading-row">
        <div class="wrap-input widget__input widget__input--mr32">
          <input class="wrap-input__input" type="text" [(ngModel)]="orderStop" formControlName="stop" name="stop">
          <label class="wrap-input__label" for="">Stop</label>
          <div class="wrap-input__line"></div>
        </div>
        <div class="wrap-input widget__input">
          <input class="wrap-input__input" type="text" [(ngModel)]="order.rate" (input)="rateInput($event)"
            formControlName="limit" name="limit">
          <label class="wrap-input__label" for="">Limit</label>
          <div class="wrap-input__line"></div>
        </div>
      </div>
      <div class="row row--jcsb widget__trading-row">
        <div class="wrap-input widget__input widget__input--mr32">
          <input class="wrap-input__input" type="text" [(ngModel)]="order.amount" formControlName="quantityOf" (input)="quantityInput($event)"
            name="quantityOf">
          <label class="wrap-input__label" for="">Quantity of {{arrPairName[0]}}</label>
          <div class="wrap-input__line"></div>
        </div>
        <div class="wrap-input widget__input">
          <input class="wrap-input__input" type="text" [(ngModel)]="order.total" formControlName="totalIn" name="totalIn">
          <label class="wrap-input__label" for="">Total in {{arrPairName[1]}}</label>
          <div class="wrap-input__line"></div>
        </div>
      </div>
    </form>

    <div class="row row--jcsb txt-light-grey widget__trading-row-txt">
      <div class="avaliable" style="margin-top: 0;">
        <span>
          <svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.23181 6.84126V8.72983C7.23181 9.08029 7.41189 9.35214 7.56677 9.35214H12V6.21888H7.56677C7.41189 6.21888 7.23181 6.4908 7.23181 6.84126ZM9.05815 7.05851C9.43365 7.05851 9.73913 7.38464 9.73913 7.78551C9.73913 8.18639 9.43365 8.51251 9.05815 8.51251C8.68266 8.51251 8.37718 8.18639 8.37718 7.78551C8.37718 7.38464 8.68266 7.05851 9.05815 7.05851ZM7.56677 10.3633C6.85985 10.3633 6.2847 9.63047 6.2847 8.72983V6.84126C6.2847 5.94062 6.85979 5.20783 7.56677 5.20783H12V3.97574C12 3.35222 11.6172 2.82286 11.0894 2.63991L10.2623 0.325323C10.2155 0.194484 10.12 0.0902034 9.99851 0.0373555C9.87702 -0.0154251 9.74051 -0.0121895 9.6213 0.046523L4.49908 2.57102H1.31579C0.590302 2.57102 0 3.20122 0 3.97574V11.5952C0 12.3698 0.590302 13 1.31579 13H10.6842C11.4097 13 12 12.3698 12 11.5952V10.3633H7.56677ZM9.5581 1.19138L10.0511 2.57109H6.75876L9.5581 1.19138Z" />
          </svg>
        </span>
        <span style="vertical-align: middle; color:#A0A0A0;">Avaliable: </span>
        <a href="#">300 000 000 {{arrPairName[0]}}</a>
      </div>
      <div>
        Fee: {{order.commission}} {{arrPairName[0]}}
      </div>
    </div>
    <div class="row row--jcsb row--aic widget__trading-row">
      <div class="dropdown widget__limit-dropdown" [ngClass]="{'dropdown--open': isDropdownOpen}" (click)="toggleLimitDropdown()">
        <div class="dropdown__btn">{{showLimit(dropdownLimitValue)}}</div>
        <ul class="dropdown__list">
          <li class="dropdown__item" *ngFor="let limit of limitsData" (click)="selectedLimit(limit)">{{showLimit(limit)}}</li>
        </ul>
      </div>
      <div class="order-edit-popup__btns-wrap">
        <button class="btn btn--small btn--empty-red" (click)="deleteOrder(order)">Delete</button>
        <button class="btn btn--small btn--empty-blue" (click)="saveOrder()">Save</button>
      </div>
    </div>
  </div>
</div>
<!--popup end-->