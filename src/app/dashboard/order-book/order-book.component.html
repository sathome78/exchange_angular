<div class="widget widget--gradient">
  <div class="order-book-bg order-book-bg--green" [ngClass]="{'show': isBuy}"></div>
  <div class="order-book-bg order-book-bg--red" [ngClass]="{'show': !isBuy}"></div>
  <div class="widget__header">
    <span class="widget__name">Order book</span>
    <a href="#" class="widget__question">
      <span class="widget__question-img">
        <svg width="8" height="13" viewBox="0 0 8 13" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M3.00781 8.79688C3.01823 8.17708 3.08854 7.6875 3.21875 7.32812C3.34896 6.96875 3.61458 6.57031 4.01562 6.13281L5.03906 5.07812C5.47656 4.58333 5.69531 4.05208 5.69531 3.48438C5.69531 2.9375 5.55208 2.51042 5.26562 2.20312C4.97917 1.89062 4.5625 1.73438 4.01562 1.73438C3.48438 1.73438 3.05729 1.875 2.73438 2.15625C2.41146 2.4375 2.25 2.8151 2.25 3.28906H0.804688C0.815104 2.44531 1.11458 1.76562 1.70312 1.25C2.29688 0.729167 3.06771 0.46875 4.01562 0.46875C5 0.46875 5.76562 0.734375 6.3125 1.26562C6.86458 1.79167 7.14062 2.51562 7.14062 3.4375C7.14062 4.34896 6.71875 5.2474 5.875 6.13281L5.02344 6.97656C4.64323 7.39844 4.45312 8.00521 4.45312 8.79688H3.00781ZM2.94531 11.2734C2.94531 11.0391 3.01562 10.8438 3.15625 10.6875C3.30208 10.526 3.51562 10.4453 3.79688 10.4453C4.07812 10.4453 4.29167 10.526 4.4375 10.6875C4.58333 10.8438 4.65625 11.0391 4.65625 11.2734C4.65625 11.5078 4.58333 11.7031 4.4375 11.8594C4.29167 12.0104 4.07812 12.0859 3.79688 12.0859C3.51562 12.0859 3.30208 12.0104 3.15625 11.8594C3.01562 11.7031 2.94531 11.5078 2.94531 11.2734Z"/>
        </svg>
      </span>
    </a>
    <span class="widget__dots panel-heading"></span>
    <div class="widget__controls">
      <!--<div class="widget__controls-horizontal">-->
        <!--<span class="widget__controls-plus" (click)="heightChange(true)">-->
          <!--<svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">-->
            <!--<path-->
              <!--d="M1 3.38889C0.723858 3.38889 0.5 3.61275 0.5 3.88889C0.5 4.16503 0.723858 4.38889 1 4.38889V3.38889ZM7.12826 4.38889C7.4044 4.38889 7.62826 4.16503 7.62826 3.88889C7.62826 3.61275 7.4044 3.38889 7.12826 3.38889V4.38889ZM4.5638 1C4.5638 0.723858 4.33994 0.5 4.0638 0.5C3.78766 0.5 3.5638 0.723858 3.5638 1H4.5638ZM3.5638 6.77778C3.5638 7.05392 3.78766 7.27778 4.0638 7.27778C4.33994 7.27778 4.5638 7.05392 4.5638 6.77778H3.5638ZM1 4.38889H7.12826V3.38889H1V4.38889ZM4.5638 6.77778V1H3.5638V6.77778H4.5638Z"/>-->
          <!--</svg>-->
        <!--</span>-->
        <!--<span class="widget__controls-horizontal-img">-->
          <!--<svg width="12" height="16" viewBox="0 0 12 16"  xmlns="http://www.w3.org/2000/svg">-->
            <!--<rect width="12" height="9"/>-->
            <!--<rect y="11" width="12" height="5"  fill-opacity="0.5"/>-->
          <!--</svg>-->
        <!--</span>-->
        <!--<span class="widget__controls-minus" (click)="heightChange(false)">-->
          <!--<svg width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">-->
            <!--<path-->
              <!--d="M1 4C0.723858 4 0.5 4.22386 0.5 4.5C0.5 4.77614 0.723858 5 1 5V4ZM6.65685 5C6.933 5 7.15685 4.77614 7.15685 4.5C7.15685 4.22386 6.933 4 6.65685 4V5ZM1 5L6.65685 5V4L1 4V5Z"/>-->
          <!--</svg>-->
        <!--</span>-->
      <!--</div>-->
      <!--<div class="widget__controls-vertical">-->
        <!--<span class="widget__controls-plus" (click)="widthChange(true)">-->
          <!--<svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">-->
            <!--<path-->
              <!--d="M1 3.38889C0.723858 3.38889 0.5 3.61275 0.5 3.88889C0.5 4.16503 0.723858 4.38889 1 4.38889V3.38889ZM7.12826 4.38889C7.4044 4.38889 7.62826 4.16503 7.62826 3.88889C7.62826 3.61275 7.4044 3.38889 7.12826 3.38889V4.38889ZM4.5638 1C4.5638 0.723858 4.33994 0.5 4.0638 0.5C3.78766 0.5 3.5638 0.723858 3.5638 1H4.5638ZM3.5638 6.77778C3.5638 7.05392 3.78766 7.27778 4.0638 7.27778C4.33994 7.27778 4.5638 7.05392 4.5638 6.77778H3.5638ZM1 4.38889H7.12826V3.38889H1V4.38889ZM4.5638 6.77778V1H3.5638V6.77778H4.5638Z"/>-->
          <!--</svg>-->
        <!--</span>-->
        <!--<span class="widget__controls-vertical-img">-->
          <!--<svg width="13" height="16" viewBox="0 0 13 16"  xmlns="http://www.w3.org/2000/svg">-->
            <!--<rect y="16" width="15.7946" height="7.38544" transform="rotate(-90 0 16)" />-->
            <!--<rect x="9" y="16" width="16" height="4" transform="rotate(-90 9 16)" fill-opacity="0.5"/>-->
          <!--</svg>-->
        <!--</span>-->
        <!--<span class="widget__controls-minus" (click)="widthChange(false)">-->
          <!--<svg width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">-->
            <!--<path-->
              <!--d="M1 4C0.723858 4 0.5 4.22386 0.5 4.5C0.5 4.77614 0.723858 5 1 5V4ZM6.65685 5C6.933 5 7.15685 4.77614 7.15685 4.5C7.15685 4.22386 6.933 4 6.65685 4V5ZM1 5L6.65685 5V4L1 4V5Z"/>-->
          <!--</svg>-->
        <!--</span>-->
      <!--</div>-->
      <div class="widget__controls-close" (click)="remove()">
        <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.35355 1.35355C7.54882 1.15829 7.54882 0.841709 7.35355 0.646447C7.15829 0.451184 6.84171 0.451184 6.64645 0.646447L7.35355 1.35355ZM0.646447 6.64645C0.451184 6.84171 0.451184 7.15829 0.646447 7.35355C0.841709 7.54882 1.15829 7.54882 1.35355 7.35355L0.646447 6.64645ZM1.35355 0.646447C1.15829 0.451184 0.841709 0.451184 0.646447 0.646447C0.451184 0.841709 0.451184 1.15829 0.646447 1.35355L1.35355 0.646447ZM6.64645 7.35355C6.84171 7.54882 7.15829 7.54882 7.35355 7.35355C7.54882 7.15829 7.54882 6.84171 7.35355 6.64645L6.64645 7.35355ZM6.64645 0.646447L0.646447 6.64645L1.35355 7.35355L7.35355 1.35355L6.64645 0.646447ZM0.646447 1.35355L6.64645 7.35355L7.35355 6.64645L1.35355 0.646447L0.646447 1.35355Z" />
        </svg>

      </div>
    </div>
  </div>
  <div class="widget__content" id="order_book" #orderBook>

    <!-- <div class="chartContainer" id="chartContainer">

    </div> -->
    <div class="order-table" [ngClass]="orderTypeClass">
      <div class="head">
        <div class="order table__cell-head table__cell-head--tal table__cell-head--p4">
          <span>
            Amount
          </span>
        </div>
        <div class="info table__cell-head table__cell-head--tal table__cell-head--p4">
          <span>
                      
          </span>
        </div>
        <div class="price table__cell-head table__cell-head--tal table__cell-head--p4">
          <span>
            Price
          </span>
        </div>
        <div class="total table__cell-head table__cell-head--tal table__cell-head--p4">
          <span>
            Total
          </span>
        </div>
      </div>
      <div class="items">

        <div class="visualization">
          <div class="visual-item" [ngClass]="{'green': isBuy, 'red': !isBuy}" *ngFor="let item of data" [style.width]="getPercentageOfTheNumber(item.exrate)" [style.height]="(422/data.length) + 'px'"></div>
        </div>
        
        <div class="item" *ngFor="let item of data; let i = index" (click)="onSelectOrder(i, item)">
          <div class="order" [style.lineHeight]="(422/data.length) + 'px'" [style.height]="(422/data.length) + 'px'">
            <span>
              {{item.amountBase | number:'1.1-8'}}
            </span>
          </div>

          <div class="info" [style.lineHeight]="(422/data.length) + 'px'" [style.height]="(422/data.length) + 'px'">
            <span>
              {{item.exrate | number:'1.1-8'}}
            </span>
          </div>

          <div class="price" [style.lineHeight]="(422/data.length) + 'px'" [style.height]="(422/data.length) + 'px'">
            <span>
              {{item.exrate | number:'1.1-8'}}
            </span>
          </div>

          <div class="total" [style.lineHeight]="(422/data.length) + 'px'" [style.height]="(422/data.length) + 'px'">
            <span>
              {{item.amountConvert | number:'1.1-8'}}
            </span>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
